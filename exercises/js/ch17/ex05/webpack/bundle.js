(()=>{"use strict";const t=10;function e(e,n){for(let l=0;l<50;l++)for(let o=0;o<50;o++){const c=n[l][o];e.beginPath(),e.rect(o*t,l*t,t,t),e.fillStyle=c?"black":"white",e.fill(),e.stroke()}}const n=document.querySelector("#screen"),l=n.getContext("2d"),o=document.querySelector("#start"),c=document.querySelector("#pause");n.width=500,n.height=500;let r=null;const i=new Audio("/decision1.mp3");let a=new Array(50).fill(null).map((()=>new Array(50).fill(null).map((()=>!!Math.floor(2*Math.random())))));function u(){a=function(t){const e=t.map((t=>[...t]));for(let n=0;n<50;n++)for(let l=0;l<50;l++){let o=0;[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].forEach((([e,c])=>{const r=n+e,i=l+c;r>=0&&r<50&&i>=0&&i<50&&(o+=t[r][i]?1:0)}));const c=t[n][l];c&&(o<2||o>3)?e[n][l]=!1:c||3!==o||(e[n][l]=!0)}return e}(a),e(l,a),r=requestAnimationFrame(u)}n.addEventListener("click",(function(o){const c=n.getBoundingClientRect(),r=o.clientX-c.left,u=o.clientY-c.top,s=Math.floor(u/t),f=Math.floor(r/t);a[s][f]=!a[s][f],i.cloneNode().play(),e(l,a)})),o.addEventListener("click",(()=>{r||u()})),c.addEventListener("click",(()=>{r&&(cancelAnimationFrame(r),r=null)})),e(l,a)})();